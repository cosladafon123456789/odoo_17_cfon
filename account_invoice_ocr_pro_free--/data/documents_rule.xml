<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <record id="folder_vendor_bills_ocr_pro" model="documents.folder">
    <field name="name">Facturas Proveedor (OCR Gratis)</field>
  </record>
  <record id="action_ocr_process_document_pro" model="ir.actions.server">
    <field name="name">Procesar factura (OCR Gratis Pro)</field>
    <field name="state">code</field>
    <field name="model_id" ref="documents.model_documents_document"/>
    <field name="code">
if records:
    env['invoice.ocr.engine'].process_document(records[0])
    </field>
  </record>
  <record id="rule_vendor_bills_ocr_pro" model="documents.workflow.rule">
    <field name="name">Crear factura proveedor por OCR (Gratis Pro)</field>
    <field name="domain_folder_id" ref="folder_vendor_bills_ocr_pro"/>
    <field name="sequence">10</field>
    <field name="criteria_type">criteria</field>
    <field name="condition_type">all</field>
    <field name="regex_filename">.*\.(pdf|PDF|jpg|jpeg|png)$</field>
    <field name="mimetype">application/pdf,image/jpeg,image/png</field>
    <field name="action_server_id" ref="action_ocr_process_document_pro"/>
  </record>
</odoo>
