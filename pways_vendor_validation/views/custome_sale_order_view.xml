<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Tree View -->
    <record id="view_custome_sale_order_tree" model="ir.ui.view">
        <field name="name">custome.sale.order.tree</field>
        <field name="model">custome.sale.order</field>
        <field name="arch" type="xml">
            <tree string="ordenes de venta tiempo">
                <field name="name"/>
                <field name="start_date"/>
                <field name="end_date"/>
                <field name="state"/>
            </tree>
        </field>
    </record>

    <!-- Form View -->
    <record id="view_custome_sale_order_form" model="ir.ui.view">
        <field name="name">custome.sale.order.form</field>
        <field name="model">custome.sale.order</field>
        <field name="arch" type="xml">
            <form string="Sale Stop Watch">
                <header>
                    <button name="action_draft" type="object" string="Set to Draft"
                           class="btn-primary" invisible="state in ('draft', 'start_date', 'end_date', 'done', 'cancel')"/>
                    
                    <button name="action_start_date" type="object" string="Start"
                            class="btn-primary" invisible="state in ('start_date', 'end_date', 'done', 'cancel')"/>
                    
                    <button name="action_end_date" type="object" string="End"
                            class="btn-primary" invisible="state in ('draft', 'end_date', 'done', 'cancel')"/>
                    
                    <button name="action_process" type="object" string="Process"
                            class="btn-primary" invisible="state in ('draft', 'start_date', 'done', 'cancel')"/>
                    
                    <button name="action_cancel" type="object" string="Cancel"
                            class="btn-primary" invisible="state in ('done', 'cancel')"/>

                    <field name="state" widget="statusbar" statusbar_visible="draft,start_date,end_date,done,cancel"/>
                </header>
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <field name="name"/>
                        </h1>
                    </div>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_view_sale_order"
                            type="object"
                            class="btn-primary"
                            icon="fa-bars">
                            <field name="sale_order_count" widget="statinfo" string="Sale Order"/>
                        </button>
                    </div>
                    <group>
                        <group>
                            <field name="start_date"/>
                            <field name="end_date"/>
                        </group>
                        <group>
                            <field name="sale_picking_done"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Sale Orders">
                            <field name="sale_order_ids" readonly="1">
                                <tree editable="bottom">
                                    <field name="name"/>
                                    <field name="date_order"/>
                                    <field name="user_id"/>
                                    <field name="team_id"/>
                                    <field name="state"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Picking">
                            <field name="picking_ids" readonly="1">
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Action -->
    <record id="action_custome_sale_order" model="ir.actions.act_window">
        <field name="name">ordenes de venta tiempo</field>
        <field name="res_model">custome.sale.order</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem id="menu_custome_sale_order" 
        name="ordenes de venta tiempo"
        parent="sale.menu_sale_report"
        action="action_custome_sale_order"
        sequence="300"/>
</odoo>